\documentclass[11pt,openany]{article}
\usepackage{geometry}
\geometry{
	letterpaper,
	margin=1in
}
\usepackage{blindtext}
\usepackage{tikz,tcolorbox,tikz-3dplot}
\usepackage{pgfplots}
\usepgfplotslibrary{fillbetween}
\usepackage{xcolor}
\usepackage{amsfonts}
\usepackage{hyperref} 
\usepackage{indentfirst}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[normalem]{ulem}
\usepackage [english]{babel}
\usepackage [autostyle, english = american]{csquotes}
\usepackage{appendix}

\usepackage[ruled,linesnumbered]{algorithm2e}
\SetKwComment{Comment}{/* }{ */}
\DontPrintSemicolon 
\usepackage{tabularx}
\usepackage{amsmath,amssymb}
\usepackage{mathtools}
\usepackage{makecell}
\graphicspath{ {./images/} }
\usepackage{enumitem}
\usepackage{soul}
\usepackage{mathtools}
\usepackage{wrapfig}
\usepackage{mathrsfs}
\usepackage{centernot}
\usepackage{amsthm}
\usepackage{listings}
%\usepackage{biblatex}
%\addbibresource{bibliograph.bib}
\usepackage{microtype}
\usepackage{pagenote}
\usepackage{array}
\usepackage{xparse}

\usepackage{forloop}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
%\fancyhf[lh]{\itshape Immanuel Kant}
\fancyhf[ch]{\itshape\thetitle{}}
\fancyhf[rh]{\theauthor}
\fancyhf[cf]{--- \thepage ---}
\tcbuselibrary{theorems,skins,breakable}
\tcbuselibrary{theorems,skins,breakable}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2
}

\lstset{style=mystyle}
%% End notes to be printed as sections at the
%% end of each chapter.
\renewcommand*{\notedivision}{\section*{\notesname}}
\renewcommand*{\pagenotesubhead}[1]{}

%\newcommand*{\exercises}{\section*{\exercisename}}
%%%%%%%%%%%%% For customising the endnote markers. Comment these out if you don't want them.
% To prefix each note number with the chapter number
\renewcommand{\thepagenote}{\thechapter-\arabic{pagenote}}

% To have a slightly different formatting for the endnote numbers in the text -- smaller text, sans-serif, square brackets
\renewcommand\notenumintext[1]{\space{\footnotesize\sffamily[FN-#1]}}

% To have a slightly different formatting for the endnote numbers in the notes section. Just the square brackets and sans-serif; normal size.
\renewcommand\notenuminnotes[1]{{\sffamily[FN-#1] }}
% If you want a different name/heading for the end notes
\renewcommand{\notesname}{End Notes}
\newcommand{\exercisename}{Exercises}
\newcounter{thatonetheorem}
\newcounter{exercisecounter} % continuity of exercises in a section
\newenvironment{exerciselist}{
	\begin{enumerate}
		\setcounter{enumi}{\value{exercisecounter}}
	}{
		\setcounter{exercisecounter}{\value{enumi}}
	\end{enumerate}
}
\newenvironment{thatonethmlist}{
	\begin{enumerate}
		\setcounter{enumi}{\value{thatonetheorem}}
	}{
		\setcounter{thatonetheorem}{\value{enumi}}
	\end{enumerate}
}
\newcommand*{\exercises}{\section*{\exercisename}}

\newcommand\todo{\textcolor{red}{\textbf{TODO: }}}
%%%%%%%%%%%%% End customisation
\newcommand{\stackeq}[1]{\stackrel{\mathclap{\normalfont\mbox{\normalfont\tiny {#1}}}}{=}}
\newcommand{\reals}{\mathbb{R}}
\newcommand\defeq{\mathrel{\stackrel{\makebox[0pt]{\mbox{\normalfont\tiny def}}}{=}}}
\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

\newcounter{thmcounter} % continuity of theorem

\newcommand{\definition}[2]{\addtocounter{thmcounter}{1}
\begin{tcolorbox}[title=Definition {\thesection}.{\arabic{thmcounter}} ({#1}),colframe=black]
		{#2}\end{tcolorbox}


}
\newcommand{\proposition}[1]{
	\addtocounter{thmcounter}{1}
	\begin{tcolorbox}[title=Proposition {\thesection}.{\arabic{thmcounter}},colframe=red!50!blue!20!white,colback=red!35!blue!10!white, coltitle=black]{#1}\end{tcolorbox}

}
\newcommand{\theorem}[2]{
\addtocounter{thmcounter}{1}
\begin{tcolorbox}[title=\color{black}Theorem {\thesection}.{\arabic{thmcounter}} ({#1}),colframe=red!40,colback=red!5!white]{#2}\end{tcolorbox}
	
}
\newcommand{\lemma}[1]{
\addtocounter{thmcounter}{1}
\begin{tcolorbox}[title=\color{black}Lemma {\thesection}.{\arabic{thmcounter}},colframe=blue!40,colback=blue!5!white]{#1}\end{tcolorbox}
	
}
\newcommand{\example}[1]{\addtocounter{thmcounter}{1}\begin{tcolorbox}[title=Example {\thesection}.{\arabic{thmcounter}},colframe=yellow!20!white,colback=yellow!10!white,coltitle=black]{#1}\end{tcolorbox}


}
\newcommand{\corollary}[1]{	\addtocounter{thmcounter}{1}\begin{tcolorbox}[]{Corollary {\thesection}.{\arabic{thmcounter}}: {#1}}\end{tcolorbox}
	

}


%%% Eliseu's fix for theorem numbering
% Definition
\NewTcbTheorem[number within=section, use counter=thmcounter]{adefinition}{Definition}{
	colframe=black, 
	separator sign none, 
	description delimiters parenthesis,breakable}{def}
% Proposition
\NewTcbTheorem[number within=section, use counter=thmcounter]{aproposition}{Proposition}{
	colframe=red!50!blue!20!white,colback=red!35!blue!10!white, coltitle=black,
	separator sign none, 
	description delimiters parenthesis,breakable}{prop}
% Theorem
\NewTcbTheorem[number within=section, use counter=thmcounter]{atheorem}{Theorem}{
	colframe=red!40,colback=red!5!white, coltitle=black,
	separator sign none, 
	description delimiters parenthesis,breakable}{thm}

% Lemma
\NewTcbTheorem[number within=section, use counter=thmcounter]{alemma}{Lemma}{
	colframe=blue!40,colback=blue!5!white, coltitle=black,
	separator sign none, 
	description delimiters parenthesis,breakable}{lemma}
% Example
\NewTcbTheorem[number within=section, use counter=thmcounter]{aexample}{Example}{
	colframe=yellow!20!white,colback=yellow!10!white,coltitle=black,
	separator sign none, 
	description delimiters parenthesis,breakable}{ex}
% Corollary
\NewTcbTheorem[number within=section, use counter=thmcounter]{acorollary}{Corollary}{
	separator sign none, 
	description delimiters parenthesis,
	coltitle=black,
	attach title to upper={:\ },breakable}{cor}

%%% Eliseu's fix for backwards compatibility with Chi's macros

\let\olddefinition\definition
\let\oldproposition\proposition
\let\oldtheorem\theorem
\let\oldexample\example
\let\oldcorollary\corollary
\let\oldlemma\lemma

\renewcommand{\definition}[3][\relax]{\ifx\relax#1\olddefinition{#2}{#3}\else \begin{adefinition}{#2}{#1} #3 \end{adefinition} \fi}
\renewcommand{\proposition}[2][\relax]{\ifx\relax#1\oldproposition{#2}\else \begin{aproposition}{}{#1} #2 \end{aproposition} \fi}
\renewcommand{\theorem}[3][\relax]{\ifx\relax#1\oldtheorem{#2}{#3}\else \begin{atheorem}{#2}{#1} #3 \end{atheorem} \fi}
\renewcommand{\example}[2][\relax]{\ifx\relax#1\oldexample{#2}\else \begin{aexample}{}{#1} #2 \end{aexample} \fi}
\renewcommand{\corollary}[2][\relax]{\ifx\relax#1\oldcorollary{#2}\else \begin{acorollary}{}{#1} #2 \end{acorollary} \fi}
\renewcommand{\lemma}[2][\relax]{\ifx\relax#1\oldlemma{#2}\else \begin{alemma}{}{#1} #2 \end{alemma} \fi}
\newtheorem*{remark}{Remark}
\newtheorem*{notation}{Notation}
%\newcommand{\exercises}{\section*{\exercisename}}
%% THIS LINE IS MANDATORY
\makepagenote
\newcommand{\sakura}{\begin{tikzpicture}
    % Define petal colors
    \definecolor{petalpink}{RGB}{255, 182, 193}
    \definecolor{petaldark}{RGB}{255, 105, 180}
    
    % Draw petals with thinner bases
    \foreach \angle in {0, 72, 144, 216, 288} {
        \begin{scope}[rotate=\angle]
            \fill[petalpink] 
            (0,0) -- (0.3,-0.1) 
            .. controls (0.9,0.5) and (0.6,1.5) .. (0,1.3) 
            .. controls (-0.6,1.5) and (-0.9,0.5) .. (-0.3,-0.1) -- cycle;
			\draw[white] (0,0.4) edge (0,1);

        \end{scope}
		
		
    }
    
    % Add a darker pink center
    \fill[petaldark] (0,0) circle (0.25);

    % Add stamen dots around the center
    \foreach \angle in {-36, 36, 108, 180, 252} {
		\begin{scope}[rotate=\angle]
            \fill[petaldark] (0,0.45) circle (0.08);

        \end{scope}
        
    }

\end{tikzpicture}}

\newcommand{\oldsakura}{\begin{tikzpicture}
    % Define petal colors
    \definecolor{petalpink}{RGB}{255, 182, 193}
    \definecolor{petaldark}{RGB}{255, 105, 180}
    
    % Draw petals with thinner bases
    \foreach \angle in {0, 72, 144, 216, 288} {
        \begin{scope}[rotate=\angle]
            \fill[petalpink] 
            (0,0) -- (0.3,-0.1) 
            .. controls (0.9,0.5) and (0.6,1.5) .. (0,1.3) 
            .. controls (-0.6,1.5) and (-0.9,0.5) .. (-0.3,-0.1) -- cycle;
        \end{scope}
    }
    
    % Add a darker pink center
    \fill[petaldark] (0,0) circle (0.25);

    % Add stamen dots around the center
    \foreach \angle in {0, 60, 120, 180, 240, 300} {
        \fill[petaldark] ([shift=(\angle:0.45)]0,0) circle (0.05);
    }

    % Add white highlights for detail
    \foreach \angle in {30, 90, 150, 210, 270, 330} {
        \fill[white] ([shift=(\angle:0.6)]0,0) circle (0.03);
    }
\end{tikzpicture}}
\newcommand{\sakuraqed}{1}
\newcommand{\oldqed}{\qedsymbol}
\renewcommand{\qedsymbol}{\if\sakuraqed1 {\raisebox{-0.5ex}{\resizebox{2.5ex}{2.5ex}{\sakura}}}\else {\oldqed}\fi}

\newcommand{\newsection}{\setcounter{thmcounter}{0}}



\newcommand{\usection}[1]{\section*{#1}
\addcontentsline{toc}{section}
{#1}
\addtocounter{section}{1}
%{\protect\numberline{}#1}
}


%\ref{def:label}, \ref{prop:label}, \ref{thm:label}, \ref{ex:label}, \ref{cor:label}.
% \setcounter{thmcounter}{0}
% \begin{atheorem}[foor}{bar}{label} or use square brackets before the function, like 
\setcounter{section}{-1}
\usepackage{titling}
\predate{}
\postdate{}
\date{}
\title{EE 495 Game Theory and Networked Systems}
\author{Chi Li}
\begin{document}
\maketitle
\tableofcontents
\newcounter{lecture}
\forloop{lecture}{1}{\value{lecture}<17}
{
	\input{Lecture \arabic{lecture}.tex}
}
\end{document}